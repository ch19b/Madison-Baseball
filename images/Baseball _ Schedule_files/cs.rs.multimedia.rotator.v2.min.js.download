// RESPONSIVE MULTIMEDIA ROTATOR (VERSION 2) | INCLUDES CUSTOM JQUERY MOBILE SCRIPT FOR SWIPE EVENTS AND FROOGALOOP FOR VIMEO VIDEO API CONTROLS
// AUTHOR BRENTON KELLY - CREATIVE SERVICES DEVELOPMENT MANAGER - BLACKBOARD, INC.
// VERSION 04.02.18

!function($){$.fn.csRsMultimediaRotator=function(settings){var config={efficientLoad:"yes",imageWidth:960,imageHeight:405,appHeader:"no",titles:"no",captions:"no",galleryOverlay:"no",linkedElement:["image"],playPause:"no",mainControls:"no",contMoreLink:"no",contMoreLinkText:"Read More",descMoreLink:"no",descMoreLinkText:"Read More",descVideoLink:"no",descVideoLinkText:"Watch Video",bullets:"no",bulletControls:"no",thumbnails:"no",thumbnailWidth:122,thumbnailHeight:53,thumbnailSlideDirection:"horizontal",hoverPause:"yes",fullScreenRotator:"no",fullScreenBreakpoints:["960","768","640","480","320"],fullScreenVideo:"no",transitionType:"fade",transitionSpeed:3,transitionDelay:8,autoRotate:"yes",customResize:"no",customResizeFunction:function(e){},onImageLoad:function(){},allImagesLoaded:function(){},onThumbnailLoad:function(){},allThumbnailsLoaded:function(){},onTransitionStart:function(){},onTransitionEnd:function(){},watchVidClick:function(){},closeVidClick:function(){},allLoaded:function(){}};return settings&&$.extend(config,settings),this.each(function(){var element=this,moduleID=$(element).parent().attr("id").replace("module-content-",""),dataArray=eval("appData"+moduleID),arrayLength=dataArray.length,elemID=moduleID,videoIDs=[],csKeyCodes={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40};$(window).bind("resize",windowResize),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var l=this.length>>>0,a=Number(arguments[1])||0;for((a=a<0?Math.ceil(a):Math.floor(a))<0&&(a+=l);a<l;a++)if(a in this&&this[a]===e)return a;return-1});var getWidth=$(window).width();if("yes"==config.appHeader){var widgetHeader=$(element).parent().find(".ui-widget-header h1").text();""!=jQuery.trim(widgetHeader)&&$(element).parent().find(".ui-widget-header").removeClass("hidden")}function gatherMedia(){for(var e="",l="",a="<script type='text/javascript'>var tag = document.createElement('script');tag.src = '//www.youtube.com/iframe_api';var firstScriptTag = document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);if($('#www-widgetapi-script').length){youTubeApiControls"+elemID+"();}function onYouTubeIframeAPIReady(){youTubeApiControls"+elemID+"();}function youTubeApiControls"+elemID+"(){",t="<script type='text/javascript'>",i=0;i<arrayLength;i++)"True"==dataArray[i][12]?videoIDs.push({videoBtnID:getVideoVender(i)+"-video-"+elemID+i+"-open",videoID:elemID+i}):videoIDs.push({});for(var r=0;r<arrayLength;r++)l+=gatherVideos(r,r),a+=gatherYouTubeApiControls(r,r),t+=gatherVimeoApiControls(r,r);if("fade"==config.transitionType)for(var s=0;s<arrayLength;s++){var n=0==s?" first active":"";if(arrayLength>1)var o=1==s?" next":"",d="yes"==config.efficientLoad&&2==s?" next-load":"",g=s==arrayLength-1?" last prev":"";else o="",g="",d="";e+=gatherImages(s,s,"image loading hidden"+n+o+g+d)}else if("slide"==config.transitionType)if(1==arrayLength)for(s=0;s<3;s++){e+=gatherImages(0,s,1==s?"image loading active hidden":"image loading hidden",!0)}else if(2==arrayLength){s=0;for(var m=1;s<4;s++){e+=gatherImages(m,s,0==s?"image loading hidden prev":1==s?"image loading hidden active":2==s?"image loading hidden next":"yes"==config.efficientLoad&&3==s?"image loading hidden next-load":"image loading hidden"),1==m?m=0:m++}}else if(3==arrayLength)for(s=0,m=2;s<6;s++){e+=gatherImages(m,s,0==s?"image loading hidden prev":1==s?"image loading hidden active":2==s?"image loading hidden next":"yes"==config.efficientLoad&&3==s?"image loading hidden next-load":"image loading hidden"),2==m?m=0:m++}else for(s=0,m=arrayLength-1;s<arrayLength;s++){e+=gatherImages(m,m,0==s?"image loading hidden prev":1==s?"image loading hidden active":2==s?"image loading hidden next":"yes"==config.efficientLoad&&3==s?"image loading hidden next-load":"image loading hidden"),m==arrayLength-1?m=0:m++}buildStructure(e,l,a+="}<\/script>",t+="<\/script>")}function gatherImages(e,l,a,t){var i="";return i+='<li class="'+a+'" index="'+e+'" aria-hidden="'+(a.indexOf("active")>-1?"false":"true")+'">',i+='   <span class="media-src hidden">'+dataArray[e][3]+"</span>",i+='   <span class="media-title hidden">'+dataArray[e][0]+"</span>",i+='   <span class="media-link hidden">'+dataArray[e][10]+"</span>",i+='   <span class="media-link-check hidden">'+dataArray[e][11]+"</span>",i+='   <span class="media-alt hidden">'+(null!=dataArray[e][13]?dataArray[e][13]:dataArray[e][0])+"</span>",i+='   <div class="loader">Loading</div>',!0===t?"True"==dataArray[e][12]&&1==l&&"yes"!=config.descVideoLink&&(i+=getVideoWatchBtn(e,l,a)):"True"==dataArray[e][12]&&"yes"!=config.descVideoLink&&(i+=getVideoWatchBtn(e,l,a)),i+="</li>"}function gatherVideos(e,l){var a="";if("True"==dataArray[e][12]&&1==dataArray[e][2]&&(a+='<div class="video video-'+elemID+l+' youtube hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' YouTube Video" id="youtube-video-'+elemID+l+'" width="100%" frameborder="0" allowfullscreen src="https://www.youtube.com/embed/'+dataArray[e][5]+'?enablejsapi=1&rel=0"></iframe>',a+='    <div id="youtube-video-'+elemID+l+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video" onclick="video'+videoIDs[e].videoID+'.pauseVideo();">CLOSE</div>',a+="</div>"),"True"==dataArray[e][12]&&2==dataArray[e][2]&&(a+='<div class="video video-'+elemID+l+' vimeo hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' Vimeo Video" id="vimeo-video-'+elemID+l+'" width="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen src="https://player.vimeo.com/video/'+dataArray[e][4]+'?api=1"></iframe>',a+='    <div id="vimeo-video-'+elemID+l+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video" onclick="video'+videoIDs[e].videoID+".api('pause');\">CLOSE</div>",a+="</div>"),"True"==dataArray[e][12]&&3==dataArray[e][2]){var t=dataArray[e][6].split("-");a+='<div class="video video-'+elemID+l+' teachertube hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' TeacherTube Video" width="100%" frameborder="0" allowfullscreen src="https://www.teachertube.com/embed/video/'+t[t.length-1]+'"></iframe>',a+='    <div id="teachertube-video-'+elemID+l+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video">CLOSE</div>',a+="</div>"}return"True"==dataArray[e][12]&&4==dataArray[e][2]&&(a+='<div class="video video-'+elemID+l+' schooltube hidden" aria-hidden="true" tabindex="0">',a+='    <iframe title="Slide '+(e+1)+' SchoolTube Video" width="100%" frameborder="0" allowfullscreen="allowfullscreen" mozallowfullscreen="mozallowfullscreen" webkitallowfullscreen="webkitallowfullscreen" src="https://www.schooltube.com/embed/'+dataArray[e][7]+'"></iframe>',a+='    <div id="schooltube-video-'+elemID+l+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video">CLOSE</div>',a+="</div>"),"True"==dataArray[e][12]&&5==dataArray[e][2]&&(a+='<div class="video video-'+elemID+l+' kaltura hidden" aria-hidden="true" tabindex="0">',a+=dataArray[e][13],a+='    <div id="kaltura-video-'+elemID+l+'-close" class="close-btn" role="button" tabindex="0" aria-label="Close Video">CLOSE</div>',a+="</div>"),a}function getVideoWatchBtn(e,l,a){var t="";switch(dataArray[e][2]){case"1":t='<div id="youtube-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" data-video-id="video-'+elemID+e+'" role="button" tabindex="'+(a.indexOf("active")>-1?"0":"-1")+'" aria-label="Open Video" onclick="video'+videoIDs[e].videoID+'.playVideo();"><p>WATCH</p><p>VIDEO</p></div>';break;case"2":t='<div id="vimeo-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" data-video-id="video-'+elemID+e+'" role="button" tabindex="'+(a.indexOf("active")>-1?"0":"-1")+'" aria-label="Open Video" onclick="video'+videoIDs[e].videoID+".api('play');\"><p>WATCH</p><p>VIDEO</p></div>";break;case"3":t='<div id="teachertube-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" role="button" tabindex="'+(a.indexOf("active")>-1?"0":"-1")+'" aria-label="Open Video" onclick=""><p>WATCH</p><p>VIDEO</p></div>';break;case"4":t='<div id="schooltube-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" role="button" tabindex="'+(a.indexOf("active")>-1?"0":"-1")+'" aria-label="Open Video" onclick=""><p>WATCH</p><p>VIDEO</p></div>';break;case"5":t='<div id="kaltura-video-'+elemID+e+'-open" class="watch-btn video-'+elemID+e+'" role="button" tabindex="'+(a.indexOf("active")>-1?"0":"-1")+'" aria-label="Open Video" onclick=""><p>WATCH</p><p>VIDEO</p></div>'}return t}function getVideoVender(e){var l="";switch(dataArray[e][2]){case"1":l="youtube";break;case"2":l="vimeo";break;case"3":l="teachertube";break;case"4":l="schooltube";break;case"5":l="kaltura"}return l}function gatherYouTubeApiControls(e,l){var a="";return"True"==dataArray[e][12]&&1==dataArray[e][2]&&(a="window.video"+elemID+l+" = new YT.Player('youtube-video-"+elemID+l+"');"),a}function gatherVimeoApiControls(e,l){var a="";return"True"==dataArray[e][12]&&2==dataArray[e][2]&&(a="var csVimeoVideo"+elemID+l+" = document.getElementById('vimeo-video-"+elemID+l+"');window.video"+elemID+l+" = $f(csVimeoVideo"+elemID+l+");"),a}function buildStructure(e,l,a,t){var i="",r="";arrayLength>1&&(r="True"==dataArray[1][11]&&($.inArray("title",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)?"<a href='"+dataArray[1][10]+"'>"+dataArray[1][0]+"</a>":dataArray[1][0]);var s=arrayLength>1?dataArray[1][1]:"";if(i='<div class="rs-gallery-container" id="rs-gallery-container-'+elemID+'">',i+='<div class="rs-gallery-images">',i+='   <ul class="rs-gallery-images-list">'+e+"</ul>",i+="</div>","yes"==config.thumbnails&&arrayLength>1){for(var n="",o=0;o<arrayLength;o++){if(arrayLength>1)var d=1==o?" next":"",g=o==arrayLength-1?" last prev":"";else d="",g="";n+='<li class="rs-gallery-thumbnail thumbnail-image loading hidden'+(0==o?" first active":"")+d+g+'" role="button" tabindex="0" aria-label="Navigate to Slide '+(o+1)+'">',n+='<span class="thumbnail-src hidden">'+dataArray[o][3]+"</span>",n+='<span class="thumbnail-title-check hidden">'+dataArray[o][8]+"</span>",n+='<span class="thumbnail-title hidden">'+dataArray[o][0]+"</span>",n+='<span class="thumbnail-alt hidden">'+(null!=dataArray[o][13]?dataArray[o][13]:dataArray[o][0])+"</span>",n+="</li>"}i+='<div class="rs-gallery-thumbnails-outer">',i+='<div class="rs-gallery-thumb-control back hidden" role="button" tabindex="0" aria-label="Scroll Thumbnails Backward"></div>',i+='<div class="rs-gallery-thumbnails">',i+='<ul class="rs-gallery-thumbnail-list">'+n+"</ul>",i+="</div>",i+='<div class="rs-gallery-thumb-control next hidden" role="button" tabindex="0" aria-label="Scroll Thumbnails Forward"></div>',i+="</div>"}if("yes"==config.bullets&&arrayLength>1){i+='<div class="rs-gallery-bullets-outer">',i+='\t<div class="rs-gallery-bullets ui-clear">',"yes"==config.bulletControls&&(i+='<div class="rs-gallery-bullet-control back" role="button" tabindex="0" aria-label="Navigate to Previous Slide"></div>');for(var m=1;m<=arrayLength;m++)i+=1==m?'<div class="rs-gallery-bullet active first" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':2==m&&m==arrayLength?'<div class="rs-gallery-bullet next prev last" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':2==m?'<div class="rs-gallery-bullet next" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':m==arrayLength?'<div class="rs-gallery-bullet prev last" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>':'<div class="rs-gallery-bullet" role="button" tabindex="0" data-index="'+(m-1)+'" aria-label="Navigate to Slide '+m+'"></div>';"yes"==config.bulletControls&&(i+='<div class="rs-gallery-bullet-control next" role="button" tabindex="0" aria-label="Navigate to Next Slide"></div>'),i+="</div>",i+="</div>"}if("yes"!=config.titles&&"yes"!=config.captions||("True"==dataArray[0][8]&&"True"==dataArray[0][9]&&("yes"==config.descMoreLink&&"False"==dataArray[0][11]&&"yes"==config.descVideoLink&&"False"==dataArray[0][12]||"yes"==config.descMoreLink&&"False"==dataArray[0][11]&&"no"==config.descVideoLink||"no"==config.descMoreLink&&"yes"==config.descVideoLink&&"False"==dataArray[0][12]||"no"==config.descMoreLink&&"no"==config.descVideoLink)?i+='<div class="rs-gallery-desc hidden">':i+='<div class="rs-gallery-desc">'),"yes"==config.titles&&(i+='<div class="rs-gallery-title">',"True"==dataArray[0][8]?i+='<div class="rs-title active hidden"></div>':(i+='<div class="rs-title active">',"True"==dataArray[0][11]&&($.inArray("title",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)?i+='<h1><a href="'+dataArray[0][10]+'">'+dataArray[0][0]+"</a></h1>":i+="<h1>"+dataArray[0][0]+"</h1>",i+="</div>"),arrayLength>1&&("True"==dataArray[1][8]?i+='<div class="rs-title next hidden"></div>':(i+='<div class="rs-title next">',i+="   <h1>"+r+"</h1>",i+="</div>")),i+="</div>"),"yes"==config.captions&&(i+='<div class="rs-gallery-caption">',"True"==dataArray[0][9]?i+='<div class="rs-caption active hidden"></div>':(i+='<div class="rs-caption active">',i+="   <p>"+dataArray[0][1]+"</p>",i+="</div>"),arrayLength>1&&("True"==dataArray[1][9]?i+='<div class="rs-caption next hidden"></div>':(i+='<div class="rs-caption next">',i+="   <p>"+s+"</p>",i+="</div>")),i+="</div>"),"yes"==config.titles||"yes"==config.captions){if("yes"==config.descMoreLink&&("True"==dataArray[0][11]?i+='<div class="rs-gallery-desc-more-link"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descMoreLinkText+"</span></a></div>":i+='<div class="rs-gallery-desc-more-link hidden" style="display: none;"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descMoreLinkText+"</span></a></div>"),"yes"==config.descVideoLink){var c="";"True"==dataArray[0][12]?(videoIDs[0].videoBtnID.indexOf("youtube")>-1&&(c="video"+videoIDs[0].videoID+".playVideo();"),videoIDs[0].videoBtnID.indexOf("vimeo")>-1&&(c="video"+videoIDs[0].videoID+".api('play');"),i+='<div class="rs-gallery-desc-watch-btn"><a href="#" id="'+videoIDs[0].videoBtnID+'" class="video-'+videoIDs[0].videoID+'" onclick="'+c+'" aria-label="Watch gallery slide 1 video: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descVideoLinkText+"</span></a></div>"):i+='<div class="rs-gallery-desc-watch-btn hidden" style="display: none;"><a href="#" id="'+videoIDs[0].videoBtnID+'" class="video-'+videoIDs[0].videoID+'" onclick="'+c+'" aria-label="Watch gallery slide 1 video: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.descVideoLinkText+"</span></a></div>"}i+="   </div>"}arrayLength>1&&("yes"==config.mainControls&&(i+='<div class="rs-gallery-control back" role="button" tabindex="0" aria-label="Navigate to Previous Slide"></div>',i+='<div class="rs-gallery-control next" role="button" tabindex="0" aria-label="Navigate to Next Slide"></div>'),"yes"==config.playPause&&(i+='<div class="rs-gallery-control play-pause playing" role="button" tabindex="0" aria-label="Pause Gallery"></div>')),"yes"==config.contMoreLink&&("True"==dataArray[0][11]?i+='<div class="rs-gallery-more-link"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.contMoreLinkText+"</span></a></div>":i+='<div class="rs-gallery-more-link hidden" style="display: none;"><a href="'+jQuery.trim(dataArray[0][10])+'" aria-label="Read more about gallery slide 1: '+jQuery.trim(dataArray[0][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')+'"><span>'+config.contMoreLinkText+"</span></a></div>"),"yes"==config.galleryOverlay&&("True"==dataArray[0][11]&&$.inArray("overlay",config.linkedElement)>-1?i+='<a class="rs-gallery-overlay" href="'+dataArray[0][10]+'" tabindex="0" aria-label="Click to Read More About This Slide"></a>':i+='<a class="rs-gallery-overlay" href="#" onclick="return false;" style="cursor: default;" tabindex="-1" aria-label="Click to Read More About This Slide"></a>'),l.length>0&&"no"==config.fullScreenVideo?i+='<div class="rs-gallery-videos hidden" aria-hidden="true">'+l+"</div>":l.length>0&&"yes"==config.fullScreenVideo&&$("body").append('<div class="rs-gallery-videos hidden" aria-hidden="true" id="rs-gallery-videos-'+elemID+'">'+l+"</div>"),i+='<div class="rs-gallery-live-feedback rs-gallery-ally-hidden" aria-live="polite"></div>',i+="</div>",$(".ui-widget-detail",element).length?$(".ui-widget-detail",element).append(i):$(element).append(i),$("body").append(a+t),"slide"==config.transitionType&&sliderDimReset()}function loadInitImages(){loadImage(!0,0),"slide"==config.transitionType&&1==arrayLength?(loadImage(!0,1),loadImage(!0,2)):arrayLength>1&&loadImage(!0,1),"slide"==config.transitionType&&arrayLength>=2&&loadImage(!0,2)}function loadImage(e,l){var a=1==e?$(".image.loading",element).eq(l):$(".image.loading.next-load",element),t=jQuery.trim($(".media-link",a).text()),i=jQuery.trim($(".media-link-check",a).text());""!=jQuery.trim($(".media-src",a).text())&&$('<img src="'+jQuery.trim($(".media-src",a).text())+'" alt="'+jQuery.trim($(".media-alt",a).text())+'" />').one("load",function(){$(".media-src, .media-title, .media-link, .media-alt, .media-link-check, .loader",a).remove(),a.removeClass("loading hidden next-load").prepend($(this)),"True"==i&&($.inArray("image",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)&&a.children("img").wrapAll("<a href='"+t+"' tabindex='"+(a.hasClass("active")?"0":"-1")+"'></a>"),windowResize(),config.onImageLoad.call(this),$(".image.loading",element).length||config.allImagesLoaded.call(this)})}function loadImages(){$(".image.loading",element).each(function(){var e=$(this),l=jQuery.trim($(".media-link",e).text()),a=jQuery.trim($(".media-link-check",e).text());""!=jQuery.trim($(".media-src",e).text())&&$('<img src="'+jQuery.trim($(".media-src",e).text())+'" alt="'+jQuery.trim($(".media-alt",e).text())+'" />').one("load",function(){$(".media-src, .media-title, .media-link, .media-alt, .media-link-check, .loader",e).remove(),e.removeClass("loading hidden").prepend($(this)),"True"==a&&($.inArray("image",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)&&e.children("img").wrapAll("<a href='"+l+"' tabindex='"+(e.hasClass("active")?"0":"-1")+"'></a>"),windowResize(),config.onImageLoad.call(this),$(".image.loading",element).length||config.allImagesLoaded.call(this)})})}function batchImageLoad(){$(".image.batch-item",element).each(function(){var e=$(this),l=jQuery.trim($(".media-link",e).text()),a=jQuery.trim($(".media-link-check",e).text());""!=jQuery.trim($(".media-src",e).text())&&$('<img src="'+jQuery.trim($(".media-src",e).text())+'" alt="'+jQuery.trim($(".media-alt",e).text())+'" />').one("load",function(){$(".media-src, .media-title, .media-link, .media-alt, .media-link-check, .loader",e).remove(),e.removeClass("loading hidden").prepend($(this)),"True"==a&&($.inArray("image",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)&&e.children("img").wrapAll("<a href='"+l+"' tabindex='"+(e.hasClass("active")?"0":"-1")+"'></a>"),config.onImageLoad.call(this),$(".image.loading",element).length||config.allImagesLoaded.call(this)})})}function loadThumbs(){"yes"==config.thumbnails&&arrayLength>1&&$(".thumbnail-image.loading",element).each(function(){var e=$(this);""!=jQuery.trim($(".thumbnail-src",e).text())&&$('<img src="'+jQuery.trim($(".thumbnail-src",e).text())+'" alt="'+jQuery.trim($(".thumbnail-alt",e).text())+'" />').one("load",function(){if($(".thumbnail-src, .thumbnail-title-check, .thumbnail-title, .thumbnail-alt",e).remove(),e.removeClass("loading hidden").prepend($(this)),config.onThumbnailLoad.call(this),!$(".thumbnail-image.loading",element).length)if(config.allThumbnailsLoaded.call(this),"vertical"==config.thumbnailSlideDirection){var l=$(".rs-gallery-thumbnail-list",element).outerWidth(!0);$(".rs-gallery-thumbnails-outer",element).css("width",l+"px"),$(".rs-gallery-thumbnails",element).css("width",l+"px");var a=$(".rs-gallery-thumbnails",element).outerHeight(!0);if((d=$(".rs-gallery-thumbnail-list",element).outerHeight(!0))>a){var t=$(".rs-gallery-thumb-control.back",element).outerHeight(!0)+10,i=$(".rs-gallery-thumb-control.next",element).outerHeight(!0)+10;$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({top:t+"px",bottom:i+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"})}}else if("horizontal"==config.thumbnailSlideDirection){var r=0;$(".rs-gallery-thumbnail",element).each(function(){r+=$(this).outerWidth(!0)}),$(".rs-gallery-thumbnail-list",element).css("width",r+"px");var s=$(".rs-gallery-thumbnails",element).outerWidth(!0);if((l=$(".rs-gallery-thumbnail-list",element).outerWidth(!0))>s){var n=$(".rs-gallery-thumb-control.back",element).outerWidth(!0)+10,o=$(".rs-gallery-thumb-control.next",element).outerWidth(!0)+10;$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({left:n+"px",right:o+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-left":"0px","padding-right":"0px","margin-left":"0px","margin-right":"0px"})}var d=$(".rs-gallery-thumbnail-list",element).outerHeight(!0);$(".rs-gallery-thumbnails-outer",element).css("height",d+"px"),$(".rs-gallery-thumbnails",element).css("height",d+"px");var g=d/2;$(".rs-gallery-thumb-control",element).css("padding-top",g+"px")}})})}function galleryEvents(){"yes"==config.hoverPause&&$(document).on("keydown",function(e){setTimeout(function(){$("#rs-gallery-container-"+elemID).find(":focus").length?($("#rs-gallery-container-"+elemID).addClass("cs-hover"),timerStop()):$("#rs-gallery-container-"+elemID).hasClass("cs-hover")&&($("#rs-gallery-container-"+elemID).removeClass("cs-hover"),timerStop(),timerReset())},100)}),"yes"==config.mainControls&&($(".rs-gallery-control",element).click(function(){var e;$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(e=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(e=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(e+1)+" of "+arrayLength),timerReset())}),$(".rs-gallery-control",element).keydown(function(e){var l;e.keyCode!=csKeyCodes.space&&e.keyCode!=csKeyCodes.enter||(e.preventDefault(),$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(l=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(l=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(l+1)+" of "+arrayLength),timerReset()))})),$("#rs-gallery-container-"+elemID).on("swiperight",function(e){$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(".rs-gallery-live-feedback",element).text("Slide "+($(".rs-gallery-images-list li.prev",element).index()+1)+" of "+arrayLength),galleryAnimate("prev"),timerReset())}),$("#rs-gallery-container-"+elemID).on("swipeleft",function(e){$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(".rs-gallery-live-feedback",element).text("Slide "+($(".rs-gallery-images-list li.next",element).index()+1)+" of "+arrayLength),galleryAnimate("next"),timerReset())}),"yes"==config.bulletControls&&($(".rs-gallery-bullet-control",element).click(function(){var e;$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(e=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(e=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(e+1)+" of "+arrayLength),timerReset())}),$(".rs-gallery-bullet-control",element).keydown(function(e){var l;e.keyCode!=csKeyCodes.space&&e.keyCode!=csKeyCodes.enter||(e.preventDefault(),$(".rs-gallery-container",element).hasClass("animating")||(timerStop(),$(this).hasClass("next")?(l=$(".rs-gallery-images-list li.next",element).index(),galleryAnimate("next")):$(this).hasClass("back")&&(l=$(".rs-gallery-images-list li.prev",element).index(),galleryAnimate("prev")),$(".rs-gallery-live-feedback",element).text("Slide "+(l+1)+" of "+arrayLength),timerReset()))})),"yes"==config.bullets&&($(".rs-gallery-bullet",element).click(function(){if(!$(this).hasClass("active")&&!$(".rs-gallery-container",element).hasClass("animating")){var e=$(this).index();timerStop(),bulletGalleryAnimate(e),timerReset()}}),$(".rs-gallery-bullet",element).keydown(function(e){switch(e.keyCode){case csKeyCodes.left:case csKeyCodes.up:e.preventDefault(),$(this).hasClass("first")?$(this).parent().find(".rs-gallery-bullet.last").focus():$(this).prev(".rs-gallery-bullet").focus();break;case csKeyCodes.right:case csKeyCodes.down:e.preventDefault(),$(this).hasClass("last")?$(this).parent().find(".rs-gallery-bullet.first").focus():$(this).next(".rs-gallery-bullet").focus();break;case csKeyCodes.home:e.preventDefault(),$(this).parent().find(".rs-gallery-bullet.last").focus();break;case csKeyCodes.end:e.preventDefault(),$(this).parent().find(".rs-gallery-bullet.first").focus();break;case csKeyCodes.space:case csKeyCodes.enter:if(e.preventDefault(),!$(this).hasClass("active")&&!$(".rs-gallery-container",element).hasClass("animating")){var l=$(this).index();timerStop(),bulletGalleryAnimate(l),timerReset()}}})),"yes"==config.thumbnails&&($("#rs-gallery-container-"+elemID).on("click keydown",".rs-gallery-thumb-control",function(e){if(("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space)&&!$(".rs-gallery-thumbnails-outer",element).hasClass("animating"))if($(".rs-gallery-thumbnails-outer",element).addClass("animating"),"horizontal"==config.thumbnailSlideDirection){var l=$(".thumbnail-image",element).outerWidth(!0),a=$(".thumbnail-image.first",element).outerWidth(!0),t=$(".thumbnail-image.last",element).outerWidth(!0),i=-1*parseInt($(".rs-gallery-thumbnail-list",element).css("left")),r=$(".rs-gallery-thumbnail-list",element).outerWidth(!0)-$(".rs-gallery-thumbnails",element).outerWidth(!0)-i,s=0;$(this).hasClass("next")?(s=r<t?i+r:i+l,$(".rs-gallery-thumbnail-list",element).animate({left:"-"+s+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")})):$(this).hasClass("back")&&(s=i<a?0:i-l,$(".rs-gallery-thumbnail-list",element).animate({left:"-"+s+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")}))}else if("vertical"==config.thumbnailSlideDirection){l=$(".thumbnail-image",element).outerHeight(!0),a=$(".thumbnail-image.first",element).outerHeight(!0),t=$(".thumbnail-image.last",element).outerHeight(!0),i=-1*parseInt($(".rs-gallery-thumbnail-list",element).css("top")),r=$(".rs-gallery-thumbnail-list",element).outerHeight(!0)-$(".rs-gallery-thumbnails",element).outerHeight(!0)-i,s=0;$(this).hasClass("next")?(s=r<t?i+r:i+l,$(".rs-gallery-thumbnail-list",element).animate({top:"-"+s+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")})):$(this).hasClass("back")&&(s=i<a?0:i-l,$(".rs-gallery-thumbnail-list",element).animate({top:"-"+s+"px"},400,function(){$(".rs-gallery-thumbnails-outer",element).removeClass("animating")}))}}),$(".rs-gallery-thumbnail",element).click(function(){if(!$(this).hasClass("active")&&!$(".rs-gallery-container",element).hasClass("animating")){var e=$(this).index();timerStop(),thumbnailGalleryAnimate(e),timerReset()}}),$(".rs-gallery-thumbnail",element).keydown(function(e){switch(e.keyCode){case csKeyCodes.left:case csKeyCodes.up:e.preventDefault(),$(this).hasClass("first")?$(this).parent().find(".rs-gallery-thumbnail.last").focus():$(this).prev(".rs-gallery-thumbnail").focus();break;case csKeyCodes.right:case csKeyCodes.down:e.preventDefault(),$(this).hasClass("last")?$(this).parent().find(".rs-gallery-thumbnail.first").focus():$(this).next(".rs-gallery-thumbnail").focus();break;case csKeyCodes.home:e.preventDefault(),$(this).parent().find(".rs-gallery-thumbnail.last").focus();break;case csKeyCodes.end:e.preventDefault(),$(this).parent().find(".rs-gallery-thumbnail.first").focus();break;case csKeyCodes.space:case csKeyCodes.enter:if(e.preventDefault(),!$(this).hasClass("active")&&!$(".rs-gallery-container",element).hasClass("animating")){var l=$(this).index();"yes"==config.autoRotate&&clearInterval(galleryTimer[elemID]),thumbnailGalleryAnimate(l),timerReset()}}})),"yes"==config.hoverPause&&($(".rs-gallery-container",element).hover(function(){$(this).addClass("cs-hover"),timerStop()},function(){$(this).removeClass("cs-hover"),timerStop(),timerReset()}),$(".rs-gallery-container",element).on("touchend",function(e){$("#rs-gallery-container-"+elemID).find(":focus").length||($(this).removeClass("cs-hover"),timerStop(),timerReset())})),"yes"==config.playPause&&($(".rs-gallery-control.play-pause",element).click(function(){$(this).hasClass("playing")?($(this).removeClass("playing").addClass("paused").attr("aria-label","Play Gallery"),timerStop()):$(this).hasClass("paused")&&($(this).removeClass("paused").addClass("playing").attr("aria-label","Pause Gallery"),$("#rs-gallery-container-"+elemID).find(":focus").length||(timerStop(),timerReset()))}),$(".rs-gallery-control.play-pause",element).keydown(function(e){e.keyCode!=csKeyCodes.space&&e.keyCode!=csKeyCodes.enter||(e.preventDefault(),$(this).hasClass("playing")?($(this).removeClass("playing").addClass("paused").attr("aria-label","Play Gallery"),timerStop()):$(this).hasClass("paused")&&($(this).removeClass("paused").addClass("playing").attr("aria-label","Pause Gallery"),$("#rs-gallery-container-"+elemID).find(":focus").length||(timerStop(),timerReset())))})),"yes"!=config.fullScreenRotator&&$(element).parents(".region").children().on("click",function(){windowResize()})}function videoControls(){"no"==config.fullScreenVideo?($("#rs-gallery-container-"+elemID).on("click keydown","ul.rs-gallery-images-list li .watch-btn, .rs-gallery-desc-watch-btn a",function(e){if("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space){if(e.preventDefault(),config.watchVidClick.call(this),"keydown"==e.type){var l=$(this).attr("id");if(l.indexOf("youtube")>-1||l.indexOf("vimeo")>-1)document.getElementById(l).onclick()}var a=$(this).attr("class").replace("watch-btn ","").replace(/\s/g,"");$(".rs-gallery-videos",element).removeClass("hidden").attr("aria-hidden","false"),$(".rs-gallery-videos .video."+a,element).removeClass("hidden").attr("aria-hidden","false"),$(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"});var t=$(".rs-gallery-videos .video",element).width(),i=$(".rs-gallery-videos .video",element).height()-27;$(".rs-gallery-videos .video iframe",element).css({width:t,height:i}),$(".rs-gallery-videos .close-btn[id*='"+a+"']",element).focus()}}),$(document).on("click keydown",".video .close-btn",function(e){if("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space){if(e.preventDefault(),config.closeVidClick.call(this),"keydown"==e.type){var l=$(this).attr("id");if(l.indexOf("youtube")>-1||l.indexOf("vimeo")>-1)document.getElementById(l).onclick()}$(".rs-gallery-videos",element).addClass("hidden").attr("aria-hidden","true"),$(".rs-gallery-videos .video",element).addClass("hidden").attr("aria-hidden","true"),$("ul.rs-gallery-images-list li.active .watch-btn",element).length?$("ul.rs-gallery-images-list li.active .watch-btn",element).focus():$(".rs-gallery-desc-watch-btn a",element).focus()}}),$(".rs-gallery-videos .video .close-btn",element).keydown(function(e){e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find("iframe").focus())}),$(".rs-gallery-videos .video",element).keydown(function(e){e.shiftKey&&e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find(".close-btn").focus())}),$(document).keydown(function(e){setTimeout(function(){$(".rs-gallery-videos[aria-hidden='false']",element).length&&!$(".rs-gallery-videos[aria-hidden='false']",element).find(":focus").length&&(e.preventDefault(),$(".video[aria-hidden='false'] .close-btn",element).focus())},100)})):"yes"==config.fullScreenVideo&&($("#rs-gallery-container-"+elemID).on("click keydown","ul.rs-gallery-images-list li .watch-btn, .rs-gallery-desc-watch-btn a",function(e){if("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space){if(e.preventDefault(),config.watchVidClick.call(this),"keydown"==e.type){var l=$(this).attr("id");if(l.indexOf("youtube")>-1||l.indexOf("vimeo")>-1)document.getElementById(l).onclick()}var a=$(this).attr("class").replace("watch-btn ","").replace(/\s/g,"");$("#rs-gallery-videos-"+elemID).removeClass("hidden").attr("aria-hidden","false"),$("#rs-gallery-videos-"+elemID+" .video."+a).removeClass("hidden").attr("aria-hidden","false"),$(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"});$(window).width();var t=$(window).height(),i=$("#rs-gallery-videos-"+elemID+" .video").width(),r=.75*i;r+100>t&&(r=t-140),$("#rs-gallery-videos-"+elemID+" .video").css({height:r+40}),$("#rs-gallery-videos-"+elemID+" .video iframe").css({width:i,height:r}),$("#rs-gallery-videos-"+elemID+" .video."+a+" .close-btn").focus()}}),$("#rs-gallery-videos-"+elemID).on("click keydown",".video .close-btn",function(e){if("click"==e.type||"keydown"==e.type&&e.keyCode==csKeyCodes.enter||"keydown"==e.type&&e.keyCode==csKeyCodes.space){if(e.preventDefault(),config.closeVidClick.call(this),"keydown"==e.type){var l=$(this).attr("id");if(l.indexOf("youtube")>-1||l.indexOf("vimeo")>-1)document.getElementById(l).onclick()}$(this).parent().addClass("hidden").attr("aria-hidden","true"),$(this).parent().parent().addClass("hidden").attr("aria-hidden","true"),$("ul.rs-gallery-images-list li.active .watch-btn",element).length?$("ul.rs-gallery-images-list li.active .watch-btn",element).focus():$(".rs-gallery-desc-watch-btn a",element).focus()}}),$("#rs-gallery-videos-"+elemID+" .video .close-btn").keydown(function(e){e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find("iframe").focus())}),$("#rs-gallery-videos-"+elemID+" .video").keydown(function(e){e.shiftKey&&e.keyCode==csKeyCodes.tab&&(e.preventDefault(),$(this).parent().find(".close-btn").focus())}),$(document).keydown(function(e){setTimeout(function(){$("#rs-gallery-videos-"+elemID+"[aria-hidden='false']",element).length&&!$("#rs-gallery-videos-"+elemID+"[aria-hidden='false']",element).find(":focus").length&&(e.preventDefault(),$("#rs-gallery-videos-"+elemID+"[aria-hidden='false'] .video[aria-hidden='false'] .close-btn",element).focus())},100)}))}function timerReset(){"yes"==config.playPause?$(".rs-gallery-control.play-pause",element).hasClass("playing")&&!$(".rs-gallery-container",element).hasClass("cs-hover")&&"yes"==config.autoRotate&&galleryTimer():$(".rs-gallery-container",element).hasClass("cs-hover")||"yes"==config.autoRotate&&galleryTimer()}function timerStop(){"yes"==config.autoRotate&&clearInterval(galleryTimer[elemID])}function galleryRotate(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).hasClass("last")?galleryAnimate("first"):galleryAnimate("next")}function galleryAnimate(e){if($(".rs-gallery-container",element).addClass("animating"),"next"==e){if(config.onTransitionStart.call(this),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading.next-load",element).length&&loadImage(),"yes"==config.bullets&&($(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.prev",element).removeClass("prev"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.prev",element).removeClass("prev"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),"fade"==config.transitionType)updateMoreLinks(i=$(".rs-gallery-images-list li.next",element).index()),updateWatchVideoLink(i),updateOverlay(i),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)});else if("slide"==config.transitionType){updateMoreLinks(i=$(".rs-gallery-images-list li.next",element).attr("index")),updateWatchVideoLink(i),updateOverlay(i);var l=-1*parseInt($(".rs-gallery-images-list",element).css("left"));if("yes"==config.fullScreenRotator)var a=$(window).width();else a=$(element).width()>config.imageWidth?config.imageWidth:$(element).width();var t=l+a,i=$(".rs-gallery-images-list li.next",element).attr("index");$(".rs-gallery-images-list",element).animate({left:"-"+t+"px"},1e3*config.transitionSpeed,function(){$(".rs-gallery-images-list",element).append($(".rs-gallery-images-list li",element).eq(0)),$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)})}}else if("prev"==e){if(config.onTransitionStart.call(this),"yes"==config.efficientLoad&&"fade"==config.transitionType&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.prev",element).hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image.prev",element).addClass("next-load"),loadImage())),"yes"==config.bullets&&($(".rs-gallery-bullet.next",element).removeClass("next"),$(".rs-gallery-bullet.prev",element).removeClass("prev").addClass("next"),$(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.next",element).removeClass("next"),$(".rs-gallery-thumbnail.prev",element).removeClass("prev").addClass("next"),$(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),"slide"==config.transitionType&&($(".rs-gallery-images-list",element).prepend($(".rs-gallery-images-list li",element).last()),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image",element).first().hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).first().addClass("next-load"),loadImage())),sliderDimReset()),$(".rs-gallery-images .rs-gallery-images-list li.next",element).removeClass("next"),$(".rs-gallery-images .rs-gallery-images-list li.prev",element).removeClass("prev").addClass("next"),"fade"==config.transitionType)var r=$(".rs-gallery-images .rs-gallery-images-list li.next",element).index();else if("slide"==config.transitionType)r=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index");var s=dataArray[r][8],n=dataArray[r][9];if("yes"==config.titles&&("True"==s?$(".rs-title.next",element).empty().addClass("hidden"):"True"==dataArray[r][11]&&($.inArray("title",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)?$(".rs-title.next",element).html("<h1><a href='"+dataArray[r][10]+"'>"+dataArray[r][0]+"</a></h1>").removeClass("hidden").removeAttr("style"):$(".rs-title.next",element).html("<h1>"+dataArray[r][0]+"</h1>").removeClass("hidden").removeAttr("style")),"yes"==config.captions&&("True"==n?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[r][1]+"</p>").removeClass("hidden").removeAttr("style")),"fade"==config.transitionType)updateMoreLinks(i=$(".rs-gallery-images-list li.next",element).index()),updateWatchVideoLink(i),updateOverlay(i),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)});else if("slide"==config.transitionType){updateMoreLinks(i=$(".rs-gallery-images-list li.active",element).prev(".image").attr("index")),updateWatchVideoLink(i),updateOverlay(i);l=-1*parseInt($(".rs-gallery-images-list",element).css("left"));if("yes"==config.fullScreenRotator)a=$(window).width();else a=$(element).width()>config.imageWidth?config.imageWidth:$(element).width();t=l-a,i=$(".rs-gallery-images-list li."+e,element).index()-1;$(".rs-gallery-images-list",element).animate({left:"-"+t+"px"},1e3*config.transitionSpeed,function(){$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)})}}else"first"==e&&(config.onTransitionStart.call(this),"yes"==config.bullets&&($(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.prev",element).removeClass("prev"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.prev",element).removeClass("prev"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),updateMoreLinks(0),updateWatchVideoLink(0),updateOverlay(0),"fade"==config.transitionType&&$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load")),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)}));fadeTitlesCaptions()}function bulletGalleryAnimate(e){if($(".rs-gallery-container",element).addClass("animating"),"yes"==config.bulletControls&&(e-=1),$(".rs-gallery-images .rs-gallery-images-list li",element).removeClass("prev").removeClass("next"),$(".rs-gallery-bullet",element).removeClass("prev").removeClass("next"),"yes"==config.thumbnails&&$(".rs-gallery-thumbnail",element).removeClass("prev").removeClass("next"),"fade"==config.transitionType)$(".rs-gallery-images .rs-gallery-images-list li:eq("+e+")",element).addClass("next"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image.next",element).addClass("next-load"),loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))));else if("slide"==config.transitionType){var l=parseInt($(".rs-gallery-bullet.active",element).attr("data-index"));"yes"==config.bulletControls&&(l-=1);var a=0,t="";if(e<l){t="backward",a=l-e;for(var i=0;i<a;i++){var r=$(".rs-gallery-images-list li",element).eq(arrayLength-1).clone().attr("class","image clone");$(".rs-gallery-images-list",element).prepend(r)}sliderDimReset()}else if(e>l){t="forward",a=e-l,"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".image.loading",element).each(function(){$(this).addClass("batch-item")}));for(i=0;i<a;i++){r=$(".rs-gallery-images-list li",element).eq(i).clone().attr("class","image clone");$(".rs-gallery-images-list",element).append(r)}"yes"==config.efficientLoad&&$(".batch-item",element).length&&batchImageLoad(),sliderDimReset()}if("forward"==t)var s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()+a;else if("backward"==t)s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()-a;$(".rs-gallery-images .rs-gallery-images-list li",element).eq(s).addClass("next")}if($(".rs-gallery-bullet:eq("+e+")",element).addClass("next"),"yes"==config.thumbnails&&$(".rs-gallery-thumbnail:eq("+e+")",element).addClass("next"),"fade"==config.transitionType)var n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).index();else if("slide"==config.transitionType)n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index");var o=dataArray[n][8],d=dataArray[n][9];if("yes"==config.titles&&("True"==o?$(".rs-title.next",element).empty().addClass("hidden"):"True"==dataArray[n][11]&&($.inArray("title",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)?$(".rs-title.next",element).html("<h1><a href='"+dataArray[n][10]+"'>"+dataArray[n][0]+"</a></h1>").removeClass("hidden").removeAttr("style"):$(".rs-title.next",element).html("<h1>"+dataArray[n][0]+"</h1>").removeClass("hidden").removeAttr("style")),"yes"==config.captions&&("True"==d?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[n][1]+"</p>").removeClass("hidden").removeAttr("style")),$(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev"),"yes"==config.thumbnails&&($(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev")),updateMoreLinks(n),updateWatchVideoLink(n),updateOverlay(n),config.onTransitionStart.call(this),"fade"==config.transitionType)$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image.loading.next-load",element).length&&loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)});else if("slide"==config.transitionType){if("yes"==config.fullScreenRotator)var g=$(window).width();else g=$(element).width()>config.imageWidth?config.imageWidth:$(element).width();var m=g*$(".rs-gallery-images-list li.next",element).index();$(".rs-gallery-images-list",element).animate({left:"-"+m+"px"},1e3*config.transitionSpeed,function(){if($(".rs-gallery-images .rs-gallery-images-list li.clone",element).remove(),"backward"==t){for(var l=0;l<a;l++)$(".rs-gallery-images-list",element).prepend($(".rs-gallery-images-list li",element).last());sliderDimReset()}else if("forward"==t){for(l=0;l<a;l++)$(".rs-gallery-images-list",element).append($(".rs-gallery-images-list li",element).first());sliderDimReset()}$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images-list li.next",element).removeClass("next"),$(".rs-gallery-images-list li[index='"+e+"']",element).first().addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)})}fadeTitlesCaptions()}function thumbnailGalleryAnimate(e){if($(".rs-gallery-container",element).addClass("animating"),$(".rs-gallery-images .rs-gallery-images-list li",element).removeClass("prev").removeClass("next"),"yes"==config.bullets&&$(".rs-gallery-bullet",element).removeClass("prev").removeClass("next"),$(".rs-gallery-thumbnail",element).removeClass("prev").removeClass("next"),"fade"==config.transitionType)$(".rs-gallery-images .rs-gallery-images-list li:eq("+e+")",element).addClass("next"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).hasClass("loading")&&($(".rs-gallery-images .rs-gallery-images-list li.image.next",element).addClass("next-load"),loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))));else if("slide"==config.transitionType){var l=$(".rs-gallery-thumbnail.active",element).index(),a=0,t="";if(e<l){t="backward",a=l-e;for(var i=0;i<a;i++){var r=$(".rs-gallery-images-list li",element).eq(arrayLength-1).clone().attr("class","image clone");$(".rs-gallery-images-list",element).prepend(r)}sliderDimReset()}else if(e>l){t="forward",a=e-l,"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".image.loading",element).each(function(){$(this).addClass("batch-item")}));for(i=0;i<a;i++){r=$(".rs-gallery-images-list li",element).eq(i).clone().attr("class","image clone");$(".rs-gallery-images-list",element).append(r)}"yes"==config.efficientLoad&&$(".batch-item",element).length&&batchImageLoad(),sliderDimReset()}if("forward"==t)var s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()+a;else if("backward"==t)s=$(".rs-gallery-images .rs-gallery-images-list li.active",element).index()-a;$(".rs-gallery-images .rs-gallery-images-list li",element).eq(s).addClass("next")}if("yes"==config.bullets&&$(".rs-gallery-bullet:eq("+e+")",element).addClass("next"),$(".rs-gallery-thumbnail:eq("+e+")",element).addClass("next"),"fade"==config.transitionType)var n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).index();else if("slide"==config.transitionType)n=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index");var o=dataArray[n][8],d=dataArray[n][9];if("yes"==config.titles&&("True"==o?$(".rs-title.next",element).empty().addClass("hidden"):"True"==dataArray[n][11]&&($.inArray("title",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)?$(".rs-title.next",element).html("<h1><a href='"+dataArray[n][10]+"'>"+dataArray[n][0]+"</a></h1>").removeClass("hidden").removeAttr("style"):$(".rs-title.next",element).html("<h1>"+dataArray[n][0]+"</h1>").removeClass("hidden").removeAttr("style")),"yes"==config.captions&&("True"==d?$(".rs-caption.next",element).empty().addClass("hidden"):$(".rs-caption.next",element).html("<p>"+dataArray[n][1]+"</p>").removeClass("hidden").removeAttr("style")),"yes"==config.bullets&&($(".rs-gallery-bullet.active",element).attr("aria-label","Navigate to Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)).removeClass("active"),$(".rs-gallery-bullet.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+(parseInt($(".rs-gallery-bullet.active",element).attr("data-index"))+1)+": Current Item"),$(".rs-gallery-bullet.active",element).next(".rs-gallery-bullet").addClass("next"),$(".rs-gallery-bullet.active",element).prev(".rs-gallery-bullet").addClass("prev"),$(".rs-gallery-bullet.next",element).length||$(".rs-gallery-bullet.first",element).addClass("next"),$(".rs-gallery-bullet.prev",element).length||$(".rs-gallery-bullet.last",element).addClass("prev")),$(".rs-gallery-thumbnail.active",element).attr("aria-label","Navigate to Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)).removeClass("active"),$(".rs-gallery-thumbnail.next",element).removeClass("next").addClass("active").attr("aria-label","Slide "+($(".rs-gallery-thumbnail.active",element).index()+1)+": Current Item"),$(".rs-gallery-thumbnail.active",element).next(".rs-gallery-thumbnail").addClass("next"),$(".rs-gallery-thumbnail.active",element).prev(".rs-gallery-thumbnail").addClass("prev"),$(".rs-gallery-thumbnail.next",element).length||$(".rs-gallery-thumbnail.first",element).addClass("next"),$(".rs-gallery-thumbnail.prev",element).length||$(".rs-gallery-thumbnail.last",element).addClass("prev"),updateMoreLinks(n),updateWatchVideoLink(n),updateOverlay(n),config.onTransitionStart.call(this),"fade"==config.transitionType)$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).fadeOut(1e3*config.transitionSpeed,function(){$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).removeClass("next").addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.active",element).prev().addClass("prev"),$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.first",element).addClass("next"),$(".rs-gallery-images ul.rs-gallery-images-list li.prev",element).length||$(".rs-gallery-images ul.rs-gallery-images-list li.last",element).addClass("prev"),"yes"==config.efficientLoad&&($(".rs-gallery-images .rs-gallery-images-list li.image.loading.next-load",element).length&&loadImage(),$(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).length&&($(".rs-gallery-images .rs-gallery-images-list li.image",element).removeClass("next-load"),$(".rs-gallery-images .rs-gallery-images-list li.image.next",element).next(".rs-gallery-images .rs-gallery-images-list li.image.loading",element).addClass("next-load"))),$(".rs-gallery-images ul.rs-gallery-images-list li",element).css("display",""),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)});else if("slide"==config.transitionType){if("yes"==config.fullScreenRotator)var g=$(window).width();else g=$(element).width()>config.imageWidth?config.imageWidth:$(element).width();var m=g*$(".rs-gallery-images-list li.next",element).index();$(".rs-gallery-images-list",element).animate({left:"-"+m+"px"},1e3*config.transitionSpeed,function(){if($(".rs-gallery-images .rs-gallery-images-list li.clone",element).remove(),"backward"==t){for(var l=0;l<a;l++)$(".rs-gallery-images-list",element).prepend($(".rs-gallery-images-list li",element).last());sliderDimReset()}else if("forward"==t){for(l=0;l<a;l++)$(".rs-gallery-images-list",element).append($(".rs-gallery-images-list li",element).first());sliderDimReset()}$(".rs-gallery-images-list li.active",element).removeClass("active").attr("aria-hidden","true"),$(".rs-gallery-images-list li.prev",element).removeClass("prev"),$(".rs-gallery-images-list li.next",element).removeClass("next"),$(".rs-gallery-images-list li[index='"+e+"']",element).first().addClass("active").attr("aria-hidden","false"),$(".rs-gallery-images-list li.active",element).next().addClass("next"),$(".rs-gallery-images-list li.active",element).prev().addClass("prev"),sliderDimReset(),$(".rs-gallery-container",element).removeClass("animating"),$(".rs-gallery-images-list li a, .rs-gallery-images-list li .watch-btn",element).attr("tabIndex","-1"),$(".rs-gallery-images-list li.active a, .rs-gallery-images-list li.active .watch-btn",element).attr("tabIndex","0"),config.onTransitionEnd.call(this)})}"yes"!=config.titles&&"yes"!=config.captions||fadeTitlesCaptions()}function fadeTitlesCaptions(){if("fade"==config.transitionType){var e=$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).index()+1,l=$(".rs-gallery-images ul.rs-gallery-images-list li.next",element).index();e==arrayLength&&(e=0)}else if("slide"==config.transitionType)e=$(".rs-gallery-images .rs-gallery-images-list li.next",element).next(".image").attr("index"),l=$(".rs-gallery-images .rs-gallery-images-list li.next",element).attr("index");if("yes"==config.titles||"yes"==config.captions){var a=1e3*config.transitionSpeed/2;$(".rs-caption.next",element).hasClass("hidden")&&$(".rs-title.next",element).hasClass("hidden")&&("yes"==config.descMoreLink&&"False"==dataArray[l][11]&&"yes"==config.descVideoLink&&"False"==dataArray[l][12]||"yes"==config.descMoreLink&&"False"==dataArray[l][11]&&"no"==config.descVideoLink||"no"==config.descMoreLink&&"yes"==config.descVideoLink&&"False"==dataArray[l][12]||"no"==config.descMoreLink&&"no"==config.descVideoLink)&&(a=1e3*config.transitionSpeed,$(".rs-gallery-desc",element).fadeOut(1e3*config.transitionSpeed,function(){$(this).addClass("hidden").removeAttr("style")})),$(".rs-gallery-desc",element).hasClass("hidden")&&(!$(".rs-caption.next",element).hasClass("hidden")||!$(".rs-title.next",element).hasClass("hidden")||"yes"==config.descMoreLink&&"True"==dataArray[l][11]||"yes"==config.descVideoLink&&"True"==dataArray[l][12])&&$(".rs-gallery-desc",element).fadeIn(1e3*config.transitionSpeed,function(){$(this).removeClass("hidden").removeAttr("style")}),"yes"==config.titles&&$(".rs-title.active",element).fadeOut(a,function(){var l=$(this);if($(".rs-title.next",element).hasClass("hidden")){var t=$(".rs-title.next",element);setNextTitle(e,t,l)}else{var i=0;$(this).hasClass("hidden")&&!$(".rs-gallery-desc",element).hasClass("hidden")&&(i=1e3*config.transitionSpeed/2),$(".rs-gallery-title",element).removeClass("hidden"),$(".rs-title.next",element).delay(i).fadeIn(a,function(){var a=$(this);setNextTitle(e,a,l)})}}),"yes"==config.captions&&$(".rs-caption.active",element).fadeOut(a,function(){var l=$(this);if($(".rs-caption.next",element).hasClass("hidden")){var t=$(".rs-caption.next",element);setNextCaption(e,t,l)}else{var i=0;$(this).hasClass("hidden")&&!$(".rs-gallery-desc",element).hasClass("hidden")&&(i=1e3*config.transitionSpeed/2),$(".rs-gallery-caption",element).removeClass("hidden"),$(".rs-caption.next",element).delay(i).fadeIn(a,function(){var a=$(this);setNextCaption(e,a,l)})}})}}function setNextTitle(e,l,a){a.removeClass("active").addClass("next"),l.removeClass("next").addClass("active"),l.hasClass("hidden")&&$(".rs-gallery-title",element).addClass("hidden"),$(".rs-title",element).removeAttr("style"),"True"==dataArray[e][8]?$(".rs-title.next",element).empty().addClass("hidden").removeAttr("style"):"True"==dataArray[e][11]&&($.inArray("title",config.linkedElement)>-1||$.inArray("all",config.linkedElement)>-1)?$(".rs-title.next",element).html("<h1><a href='"+dataArray[e][10]+"'>"+dataArray[e][0]+"</a></h1>").removeClass("hidden").removeAttr("style"):$(".rs-title.next",element).html("<h1>"+dataArray[e][0]+"</h1>").removeClass("hidden").removeAttr("style")}function setNextCaption(e,l,a){a.removeClass("active").addClass("next"),l.removeClass("next").addClass("active"),l.hasClass("hidden")&&$(".rs-gallery-caption",element).addClass("hidden"),$(".rs-caption",element).removeAttr("style"),"True"==dataArray[e][9]?$(".rs-caption.next",element).empty().addClass("hidden").removeAttr("style"):$(".rs-caption.next",element).html("<p>"+dataArray[e][1]+"</p>").removeClass("hidden").removeAttr("style")}function updateMoreLinks(e){if("yes"==config.contMoreLink)if($(".rs-gallery-more-link a",element).attr({href:jQuery.trim(dataArray[e][10]),"aria-label":"Read more about gallery slide "+(e+1)+": "+jQuery.trim(dataArray[e][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')}),$(".rs-gallery-more-link",element).hasClass("hidden")&&"True"==jQuery.trim(dataArray[e][11])){var l=1e3*config.transitionSpeed/2;$(".rs-gallery-more-link",element).delay(l).fadeIn(1e3*config.transitionSpeed/2,function(){$(this).removeClass("hidden")})}else $(".rs-gallery-more-link",element).hasClass("hidden")||"True"==jQuery.trim(dataArray[e][11])||$(".rs-gallery-more-link",element).fadeOut(1e3*config.transitionSpeed/2,function(){$(this).addClass("hidden")});if("yes"==config.descMoreLink)if($(".rs-gallery-desc-more-link a",element).attr({href:jQuery.trim(dataArray[e][10]),"aria-label":"Read more about gallery slide "+(e+1)+":  "+jQuery.trim(dataArray[e][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')}),$(".rs-gallery-desc-more-link",element).hasClass("hidden")&&"True"==jQuery.trim(dataArray[e][11])){l=1e3*config.transitionSpeed/2;$(".rs-gallery-desc-more-link",element).delay(l).fadeIn(1e3*config.transitionSpeed/2,function(){$(this).removeClass("hidden"),$(element).removeClass("rs-gallery-desc-more-link-hidden")})}else $(".rs-gallery-desc-more-link",element).hasClass("hidden")||"True"==jQuery.trim(dataArray[e][11])||$(".rs-gallery-desc-more-link",element).fadeOut(1e3*config.transitionSpeed/2,function(){$(this).addClass("hidden"),$(element).addClass("rs-gallery-desc-more-link-hidden")})}function updateWatchVideoLink(e){if("yes"==config.descVideoLink)if($.isEmptyObject(videoIDs[e]))$(".rs-gallery-desc-watch-btn",element).fadeOut(1e3*config.transitionSpeed/2,function(){$(this).addClass("hidden"),$(element).addClass("rs-gallery-desc-watch-btn-hidden")});else{var l="";if(videoIDs[e].videoBtnID.indexOf("youtube")>-1&&(l="video"+videoIDs[e].videoID+".playVideo();"),videoIDs[e].videoBtnID.indexOf("vimeo")>-1&&(l="video"+videoIDs[e].videoID+".api('play');"),$(".rs-gallery-desc-watch-btn a",element).attr({id:videoIDs[e].videoBtnID,class:"video-"+videoIDs[e].videoID,onclick:l,"aria-label":"Watch gallery slide "+(e+1)+" video: "+jQuery.trim(dataArray[e][0]).replace(/&#39;/gi,"'").replace(/&quot;/gi,'"')}),$(".rs-gallery-desc-watch-btn",element).hasClass("hidden")){var a=1e3*config.transitionSpeed/2;$(".rs-gallery-desc-watch-btn",element).delay(a).fadeIn(1e3*config.transitionSpeed/2,function(){$(this).removeClass("hidden"),$(element).removeClass("rs-gallery-desc-watch-btn-hidden")})}}}function updateOverlay(e){"yes"==config.galleryOverlay&&("True"==dataArray[e][11]&&$.inArray("overlay",config.linkedElement)>-1?$(".rs-gallery-overlay",element).removeAttr("style").removeAttr("onclick").attr("href",dataArray[e][10]).attr("tabindex","0"):$(".rs-gallery-overlay",element).css("cursor","default").attr("onclick","return false;").attr("href","#").attr("tabindex","-1"))}function galleryTimer(){galleryTimer[elemID]=setInterval(function(){galleryRotate()},1e3*config.transitionDelay)}function buildStyleSheet(){var e=document.createElement("style");if(e){e.setAttribute("type","text/css");var l=document.getElementsByTagName("head")[0];l&&l.insertBefore(e,l.childNodes[0]);var a="",t="",i="",r="",s="";"fade"==config.transitionType?(i="width: 100%; height: 100%; position: static;",a="position: relative;",t="width: 100%; position: absolute; top: 0px; left: 0px; display: none;"):"slide"==config.transitionType&&(i="position: relative;",a="position: absolute; top: 0px; left: 0px;",t="float: left; position: relative;",r="#rs-gallery-container-"+elemID+".rs-gallery-container { position: relative; }"),"yes"==config.fullScreenRotator&&(s="overflow: hidden;");var n="",o="",d="",g="",m="",c="",y="";"horizontal"==config.thumbnailSlideDirection?(n="bottom: 0px; left: 0px; right: 0px;",o="top: 0px; left: 0px; right: 0px;",d="margin-right: 10px; float: left;",g="top: 0px; bottom: 0px; left: 0px;",m="top: 0px; bottom: 0px; right: 0px;",c='content: "◀"; margin-top: -6.5px;',y='content: "▶"; margin-top: -6.5px;'):"vertical"==config.thumbnailSlideDirection&&(n="top: 0px; bottom: 0px; right: 0px;",o="left: 0px; top: 0px; bottom: 0px;",d="margin-bottom: 10px;",g="top: 0px; left: 0px; right: 0px;",m="bottom: 0px; left: 0px; right: 0px;",c='content: "▲";',y='content: "▼";');var h="",u="",p="";"no"==config.fullScreenVideo?(u="position: absolute;",h="top: 20px; bottom: 20px; left: 20px; right: 20px;"):"yes"==config.fullScreenVideo&&(u="position: fixed; z-index: 20000; background: rgba(0, 0, 0, .50);",h="top: 50px; left: 50px; right: 50px;",p="@media (max-width: 767px) {#rs-gallery-videos-"+elemID+" .video {top: 20px;left: 20px; right: 20px;}}");var v=".hidden {display: none;}.rs-gallery-ally-hidden {width: 0 !important;height: 0 !important;display: inline-block !important;padding: 0 !important;margin: 0 !important;border: 0 !important;overflow: hidden !important;}"+r+"#rs-gallery-container-"+elemID+" .rs-gallery-images {"+i+"}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list {"+a+"list-style: none;margin: 0px;padding: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li {"+t+s+"background: #000;z-index: 1;-webkit-backface-visibility: hidden;-webkit-transform: scale(1);}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li.active {display: block;z-index: 4;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li.next {display: block;z-index: 3;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li.prev {display: block;z-index: 2;}#rs-gallery-container-"+elemID+" .rs-gallery-images ul.rs-gallery-images-list li .watch-btn {width: 100px;height: 50px;position: absolute;top: 50%;left: 50%;padding: 10px 10px 10px 40px;margin: -25px 0px 0px -50px;z-index: 15;border-radius: 5px;background: #000;background: rgba(0, 0, 0, .80);-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;cursor: pointer;}#rs-gallery-container-"+elemID+' .rs-gallery-images ul.rs-gallery-images-list li .watch-btn:before {content: "";width: 0px;height: 0px;position: absolute;top: 12px;left: 15px;border-style: solid;border-width: 12px 0 12px 16px;border-color: transparent transparent transparent #ffffff;}#rs-gallery-container-'+elemID+' .rs-gallery-images ul.rs-gallery-images-list li .watch-btn p {margin: 0px;color: #FFF;font: normal 15px/100% "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;text-align: center;}#rs-gallery-container-'+elemID+" .rs-gallery-videos, #rs-gallery-videos-"+elemID+".rs-gallery-videos {"+u+"top: 0px;bottom: 0px;left: 0px;right: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-videos .video, #rs-gallery-videos-"+elemID+".rs-gallery-videos .video {position: absolute;"+h+"background: #FFF;z-index: 30;-moz-box-shadow: 0px 0px 23px rgba(0, 0, 0, .65);-webkit-box-shadow: 0px 23px 0px rgba(0, 0, 0, .65);box-shadow: 0px 0px 23px rgba(0, 0, 0, .65);-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;border: solid 8px #FFF;}#rs-gallery-container-"+elemID+" .rs-gallery-videos .video .close-btn, #rs-gallery-videos-"+elemID+'.rs-gallery-videos .video .close-btn {position: absolute;bottom: 0px;right: 0px;padding: 0px 25px 0px 0px;color: #666;line-height: 1;font-family: "Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif;font-size: 14px;cursor: pointer;}#rs-gallery-container-'+elemID+" .rs-gallery-videos .video .close-btn:after, #rs-gallery-videos-"+elemID+'.rs-gallery-videos .video .close-btn:after {content: "X";width: 16px;height: 16px;position: absolute;top: 50%;right: 0px;margin-top: -8px;background: #999;border-radius: 9px;color: #FFF;font-weight: bold;line-height: 16px;font-size: 9px;text-align: center;}#rs-gallery-container-'+elemID+" .rs-gallery-images ul.rs-gallery-images-list li img {width: 100%;-webkit-backface-visibility: hidden;-webkit-transform: scale(1);}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnails-outer {"+n+"position: absolute;background: #000;background: rgba(0, 0, 0, .75);z-index: 20;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnails {"+o+"position: absolute;overflow: hidden;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnail-list {list-style: none;margin: 0px;padding: 10px;position: absolute;top: 0px;left: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnail-list li {width: "+config.thumbnailWidth+"px;height: "+config.thumbnailHeight+"px;"+d+'cursor: pointer;opacity: .5;overflow: hidden;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter: alpha(opacity=50);-khtml-opacity: 0.5;-moz-opacity: 0.5;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}#rs-gallery-container-'+elemID+' .rs-gallery-thumbnail-list li.active {opacity: 1;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter: alpha(opacity=100);-khtml-opacity: 1;-moz-opacity: 1;}#rs-gallery-container-'+elemID+" .rs-gallery-thumbnail-list li.last {margin: 0px;}#rs-gallery-container-"+elemID+" .rs-gallery-thumbnail-list li img {display: block;width: 100%;height: auto;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control {padding: 7px 10px;cursor: pointer;background: #000;background: rgba(0, 0, 0, .20);-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.back {"+g+"position: absolute;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.back:before {"+c+"display: block;text-align: center;line-height: 1;color: #FFF;font-size: 13px;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.next {"+m+"position: absolute;}#rs-gallery-container-"+elemID+" .rs-gallery-thumb-control.next:before {"+y+"display: block;text-align: center;line-height: 1;color: #FFF;font-size: 13px;}#rs-gallery-container-"+elemID+" .rs-gallery-desc {position: absolute;bottom: 0px;right: 0px;padding: 5px;bottom: 0px;left: 0px;z-index: 20;}#rs-gallery-container-"+elemID+" .rs-gallery-control-text {position: relative;display: block;width: 0px !important;height: 0px !important;overflow: hidden !important;}#rs-gallery-container-"+elemID+" .rs-gallery-control.play-pause {width: 24px;height: 25px;position: absolute;bottom: 20px;left: 20px;z-index: 15;border-radius: 5px;background: #000;background: rgba(0, 0, 0, .80);}#rs-gallery-container-"+elemID+' .rs-gallery-control.play-pause.playing:before {content: "";width: 0px;height: 15px;position: absolute;top: 5px;left: 7.5px;border-left: double 10px #FFF;}#rs-gallery-container-'+elemID+' .rs-gallery-control.play-pause.paused:before {content: "";width: 0px;height: 0px;border-style: solid;border-width: 7.5px 0 7.5px 10px;border-color: transparent transparent transparent #FFF;position: absolute;top: 5px;left: 8.5px;}#rs-gallery-container-'+elemID+" .rs-gallery-control.back {width: 30px;height: 30px;position: absolute;top: 50%;left: 20px;margin-top: -15px;z-index: 20;cursor: pointer;}#rs-gallery-container-"+elemID+' .rs-gallery-control.back:before {content: "<";display: block;text-align: center;line-height: 100%;color: #FFF;font-size: 50px;}#rs-gallery-container-'+elemID+" .rs-gallery-control.next {width: 30px;height: 30px;position: absolute;top: 50%;right: 20px;margin-top: -15px;z-index: 20;cursor: pointer;}#rs-gallery-container-"+elemID+' .rs-gallery-control.next:before {content: ">";display: block;text-align: center;line-height: 100%;color: #FFF;font-size: 50px;}#rs-gallery-container-'+elemID+" .rs-gallery-bullets-outer {position: absolute;bottom: 0px;left: 0px;text-align: center;z-index: 10;}#rs-gallery-container-"+elemID+" .rs-gallery-bullet {width: 12px;height: 12px;background: #FFF;border: solid 1px #666;display: inline-block;margin: 0px 5px;cursor: pointer;border-radius: 8px;-moz-background-clip: padding;-webkit-background-clip: padding;background-clip: padding-box;}#rs-gallery-container-"+elemID+" .rs-gallery-bullet.active {background: #999;}#rs-gallery-container-"+elemID+" .rs-gallery-bullet-control {width: 15px;height: 15px;display: inline-block;margin: 0px 10px;cursor: pointer;vertical-align: top;}#rs-gallery-container-"+elemID+' .rs-gallery-bullet-control.back:before {content: "<";color: #FFF;font-size: 20px;display: block;line-height: 12px;text-align: center;}#rs-gallery-container-'+elemID+' .rs-gallery-bullet-control.next:before {content: ">";color: #FFF;font-size: 20px;display: block;line-height: 12px;text-align: center;}#rs-gallery-container-'+elemID+" .rs-caption.active, .rs-title.active {position: relative;z-index: 2;}#rs-gallery-container-"+elemID+" .rs-caption.next, .rs-title.next {display: none;position: relative;z-index: 1;}#rs-gallery-container-"+elemID+" .image.loading .loader {display: block;position: absolute;top: 50%;left: 50%;width: 150px;height: 150px;line-height: 150px;color: #ccc;font-size: 14px;margin: -75px 0px 0px -75px;box-sizing: border-box;text-align: center;z-index: 5;text-transform: uppercase;}#rs-gallery-container-"+elemID+' .loader:before, .loader:after {opacity: 0;box-sizing: border-box;content: "\\0020";position: absolute;top: 0;left: 0;width: 100%;height: 100%;border-radius: 100px;border: 5px solid #fff;box-shadow: 0 0 50px #fff, inset 0 0 50px #fff;}#rs-gallery-container-'+elemID+" .loader:after {z-index: 1;-webkit-animation: gogoloader 2s infinite 1s;}#rs-gallery-container-"+elemID+" .loader:before {z-index: 2;-webkit-animation: gogoloader 2s infinite;}@-webkit-keyframes gogoloader {0% {-webkit-transform: scale(0);opacity: 0;}50% {opacity: 1;}100% {-webkit-transform: scale(1);opacity: 0;}}"+p,f=document.createTextNode(v);e.styleSheet?e.styleSheet.cssText=v:e.appendChild(f)}}function sliderDimReset(){var e=getBreakPoint();if("yes"==config.customResize)config.customResizeFunction.call(this,element,config.imageWidth,config.imageHeight);else if("yes"==config.fullScreenRotator&&config.fullScreenBreakpoints.indexOf(e)>-1){var l=$(element).offset().top,a=$(window).width(),t=$(window).height()-l,i=a*$(".rs-gallery-images-list li",element).length,r=a,s=0;if($(".rs-gallery-videos").length)$(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height();var n=config.imageWidth,o=config.imageHeight/n;(s=r*o)<t&&(r=(s=t)/o);var d=(r-a)/2,g=(s-t)/2,m=$(".rs-gallery-images-list li.active",element).index()*(a=parseInt(a));$(".rs-gallery-container",element).css({height:t+"px"}),$(".rs-gallery-container .rs-gallery-images",element).css({height:t+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css({width:i+"px",height:t+"px",left:"-"+m+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css({width:a+"px",height:t+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).css({width:r+"px",height:s+"px",margin:"-"+g+"px 0px 0px -"+d+"px"}),videoDimReset()}else{var c=$(element).width()>config.imageWidth?config.imageWidth:$(element).width(),y=c*(config.imageHeight/config.imageWidth);i=c*$(".rs-gallery-images-list li",element).length;if($(".rs-gallery-videos").length)$(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height();m=$(".rs-gallery-images-list li.active",element).index()*(c=parseInt(c));$(".rs-gallery-container",element).css({height:y+"px"}),$(".rs-gallery-container .rs-gallery-images",element).css({height:y+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css({width:i+"px",height:y+"px",left:"-"+m+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css({width:c+"px",height:y+"px"}),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).removeAttr("style"),videoDimReset()}}function windowResize(){if(arrayLength>1&&timerStop(),"yes"==config.customResize)config.customResizeFunction.call(this,element,config.imageWidth,config.imageHeight);else{if("fade"==config.transitionType){var e=getBreakPoint();if("yes"==config.fullScreenRotator&&config.fullScreenBreakpoints.indexOf(e)>-1){var l=$(element).offset().top,a=$(window).width(),t=$(window).height()-l,i=a*(t/a),r=a,s=0;if($(".rs-gallery-videos").length)$(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height();var n=config.imageWidth;(s=r*(g=config.imageHeight/n))<t&&(r=(s=t)/g);var o=(r-a)/2,d=(s-t)/2;$(".rs-gallery-container",element).css("height",i),$(".rs-gallery-container .rs-gallery-images",element).css("height",i),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css("height",i),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css("height",i),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).css({width:r+"px",height:s+"px",margin:"-"+d+"px 0px 0px -"+o+"px"}),videoDimReset()}else{r=$(".rs-gallery-images ul.rs-gallery-images-list li",element).width();if($(".rs-gallery-videos").length)$(".rs-gallery-videos .video",element).width(),$(".rs-gallery-videos .video",element).height();var g;n=config.imageWidth,s=r*(g=config.imageHeight/n);$(".rs-gallery-container",element).css("height",s),$(".rs-gallery-container .rs-gallery-images",element).css("height",s),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list",element).css("height",s),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li",element).css("height",s),$(".rs-gallery-container .rs-gallery-images .rs-gallery-images-list li img",element).removeAttr("style"),videoDimReset()}}"slide"==config.transitionType&&sliderDimReset()}if(arrayLength>1&&timerReset(),"yes"==config.thumbnails)if("vertical"==config.thumbnailSlideDirection){var m=-1*parseInt($(".rs-gallery-thumbnail-list",element).css("top")),c=$(".rs-gallery-thumbnail-list",element).outerHeight(!0)-$(".rs-gallery-thumbnails",element).outerHeight(!0);m>c&&$(".rs-gallery-thumbnail-list",element).css("top","-"+c+"px");var y=$(".rs-gallery-thumbnails",element).outerHeight(!0);if($(".rs-gallery-thumbnail-list",element).outerHeight(!0)>y){var h=$(".rs-gallery-thumb-control.back",element).outerHeight(!0)+10,u=$(".rs-gallery-thumb-control.next",element).outerHeight(!0)+10;$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({top:h+"px",bottom:u+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"})}else $(".rs-gallery-thumb-control",element).addClass("hidden"),$(".rs-gallery-thumbnails",element).css({top:"0px",bottom:"0px"}),$(".rs-gallery-thumbnail-list",element).removeAttr("style")}else if("horizontal"==config.thumbnailSlideDirection){var p=$(".rs-gallery-thumbnails",element).outerWidth(!0);if($(".rs-gallery-thumbnail-list",element).outerWidth(!0)>p){var v=$(".rs-gallery-thumb-control.back",element).outerWidth(!0)+10,f=$(".rs-gallery-thumb-control.next",element).outerWidth(!0)+10;$(".rs-gallery-thumb-control",element).removeClass("hidden"),$(".rs-gallery-thumbnails",element).css({left:v+"px",right:f+"px"}),$(".rs-gallery-thumbnail-list",element).css({"padding-left":"0px","padding-right":"0px","margin-left":"0px","margin-right":"0px"})}else{var b=0;$(".rs-gallery-thumbnail",element).each(function(){b+=$(this).outerWidth(!0)}),$(".rs-gallery-thumbnail-list",element).removeAttr("style").css("width",b+"px"),$(".rs-gallery-thumb-control",element).addClass("hidden"),$(".rs-gallery-thumbnails",element).css({left:"0px",right:"0px"})}}}function videoDimReset(){if($(".rs-gallery-videos").length)if("no"==config.fullScreenVideo){$(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"});var e=$(".rs-gallery-videos .video",element).width(),l=$(".rs-gallery-videos .video",element).height()-27;$(".rs-gallery-videos .video iframe",element).css({width:e,height:l})}else if("yes"==config.fullScreenVideo){$(".rs-gallery-videos .video iframe",element).css({width:"auto",height:"auto"});$(window).width();var a=$(window).height();(l=.75*(e=$("#rs-gallery-videos-"+elemID+" .video").width()))+100>a&&(l=a-140),$("#rs-gallery-videos-"+elemID+" .video").css({height:l+40}),$("#rs-gallery-videos-"+elemID+" .video iframe").css({width:e,height:l})}}function getBreakPoint(){return $(window).width()>=1024?"960":$(window).width()>=768&&$(window).width()<1024?"768":$(window).width()>=640&&$(window).width()<768?"640":$(window).width()>=480&&$(window).width()<640?"480":$(window).width()>=320&&$(window).width()<480?"320":void 0}arrayLength>0&&(buildStyleSheet(),gatherMedia(),"yes"==config.efficientLoad?loadInitImages():loadImages(),loadThumbs(),arrayLength>1&&(galleryEvents(),"yes"==config.autoRotate&&galleryTimer()),videoControls(),windowResize()),config.allLoaded.call(this)})}}(jQuery);var Froogaloop=function(){function e(l){return new e.fn.init(l)}function l(e,l,a){if(!a.contentWindow.postMessage)return!1;e=JSON.stringify({method:e,value:l}),a.contentWindow.postMessage(e,s)}function a(e){var l,a;try{a=(l=JSON.parse(e.data)).event||l.method}catch(e){return!1}if("ready"!=a||r||(r=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===s&&(s=e.origin),e=l.value;var t=l.data,n=""===n?null:l.player_id;return l=n?i[n][a]:i[a],a=[],!!l&&(void 0!==e&&a.push(e),t&&a.push(t),n&&a.push(n),0<a.length?l.apply(null,a):l.call())}function t(e,l,a){a?(i[a]||(i[a]={}),i[a][e]=l):i[e]=l}var i={},r=!1,s="*";return e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,a){if(!this.element||!e)return!1;var i=this.element,r=""!==i.id?i.id:null,s=a&&a.constructor&&a.call&&a.apply?null:a,n=a&&a.constructor&&a.call&&a.apply?a:null;return n&&t(e,n,r),l(e,s,i),this},addEvent:function(e,a){if(!this.element)return!1;var i=this.element,s=""!==i.id?i.id:null;return t(e,a,s),"ready"!=e?l("addEventListener",e,i):"ready"==e&&r&&a.call(null,s),this},removeEvent:function(e){if(!this.element)return!1;var a=this.element,t=""!==a.id?a.id:null;e:{if(t&&i[t]){if(!i[t][e]){t=!1;break e}i[t][e]=null}else{if(!i[e]){t=!1;break e}i[e]=null}t=!0}"ready"!=e&&t&&l("removeEventListener",e,a)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),window.Froogaloop=window.$f=e}();!function(e,l,a){"function"==typeof define&&define.amd?define(["jquery"],function(t){return a(t,e,l),t.mobile}):a(e.jQuery,e,l)}(this,document,function(e,l,a,t){var i,r;(function(e,l,a,t){function i(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function r(l){for(var a,t,i={};l;){for(t in a=e.data(l,x))a[t]&&(i[t]=i.hasVirtualBinding=!0);l=l.parentNode}return i}function s(){z=!0}function n(){z=!1}function o(){d(),T=setTimeout(function(){T=0,M=0,R.length=0,E=!1,s()},e.vmouse.resetTimerDuration)}function d(){T&&(clearTimeout(T),T=0)}function g(l,a,r){var s;return(r&&r[l]||!r&&function(l,a){for(var t;l;){if((t=e.data(l,x))&&(!a||t[a]))return l;l=l.parentNode}return null}(a.target,l))&&(s=function(l,a){var r,s,n,o,d,g,m,c,y,h=l.type;if((l=e.Event(l)).type=a,r=l.originalEvent,s=e.event.props,h.search(/^(mouse|click)/)>-1&&(s=D),r)for(m=s.length;m;)l[o=s[--m]]=r[o];if(h.search(/mouse(down|up)|click/)>-1&&!l.which&&(l.which=1),-1!==h.search(/^touch/)&&(h=(n=i(r)).touches,d=n.changedTouches,g=h&&h.length?h[0]:d&&d.length?d[0]:t))for(c=0,y=k.length;c<y;c++)l[o=k[c]]=g[o];return l}(a,l),e(a.target).trigger(s)),s}function m(l){var a,t=e.data(l.target,C);!E&&(!M||M!==t)&&((a=g("v"+l.type,l))&&(a.isDefaultPrevented()&&l.preventDefault(),a.isPropagationStopped()&&l.stopPropagation(),a.isImmediatePropagationStopped()&&l.stopImmediatePropagation()))}function c(l){var a,t,s,o=i(l).touches;o&&1===o.length&&((t=r(a=l.target)).hasVirtualBinding&&(M=F++,e.data(a,C,M),d(),n(),V=!1,s=i(l).touches[0],S=s.pageX,L=s.pageY,g("vmouseover",l,t),g("vmousedown",l,t)))}function y(e){z||(V||g("vmousecancel",e,r(e.target)),V=!0,o())}function h(l){if(!z){var a=i(l).touches[0],t=V,s=e.vmouse.moveDistanceThreshold,n=r(l.target);(V=V||Math.abs(a.pageX-S)>s||Math.abs(a.pageY-L)>s)&&!t&&g("vmousecancel",l,n),g("vmousemove",l,n),o()}}function u(e){if(!z){s();var l,a,t=r(e.target);g("vmouseup",e,t),V||(l=g("vclick",e,t))&&l.isDefaultPrevented()&&(a=i(e).changedTouches[0],R.push({touchID:M,x:a.clientX,y:a.clientY}),E=!0),g("vmouseout",e,t),V=!1,o()}}function p(l){var a,t=e.data(l,x);if(t)for(a in t)if(t[a])return!0;return!1}function v(){}function f(l){var a=l.substr(1);return{setup:function(){p(this)||e.data(this,x,{}),e.data(this,x)[l]=!0,A[l]=(A[l]||0)+1,1===A[l]&&W.bind(a,m),e(this).bind(a,v),O&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&W.bind("touchstart",c).bind("touchend",u).bind("touchmove",h).bind("scroll",y))},teardown:function(){--A[l],A[l]||W.unbind(a,m),O&&(--A.touchstart,A.touchstart||W.unbind("touchstart",c).unbind("touchmove",h).unbind("touchend",u).unbind("scroll",y));var t=e(this),i=e.data(this,x);i&&(i[l]=!1),t.unbind(a,v),p(this)||t.removeData(x)}}}var b,$,x="virtualMouseBindings",C="virtualTouchID",w="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),k="clientX clientY pageX pageY screenX screenY".split(" "),I=e.event.mouseHooks?e.event.mouseHooks.props:[],D=e.event.props.concat(I),A={},T=0,S=0,L=0,V=!1,R=[],E=!1,z=!1,O="addEventListener"in a,W=e(a),F=1,M=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},$=0;$<w.length;$++)e.event.special[w[$]]=f(w[$]);O&&a.addEventListener("click",function(l){var a,t,i,r,s,n=R.length,o=l.target;if(n)for(a=l.clientX,t=l.clientY,b=e.vmouse.clickDistanceThreshold,i=o;i;){for(r=0;r<n;r++)if(s=R[r],0,i===o&&Math.abs(s.x-a)<b&&Math.abs(s.y-t)<b||e.data(i,C)===s.touchID)return l.preventDefault(),void l.stopPropagation();i=i.parentNode}},!0)})(e,0,a),e.mobile={},r={touch:"ontouchend"in a},(i=e).mobile.support=i.mobile.support||{},i.extend(i.support,r),i.extend(i.mobile.support,r),function(e,l,t){function i(l,a,i,r){var s=i.type;i.type=a,r?e.event.trigger(i,t,l):e.event.dispatch.call(l,i),i.type=s}var r=e(a),s=e.mobile.support.touch,n="touchmove scroll",o=s?"touchstart":"mousedown",d=s?"touchend":"mouseup",g=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(l,a){e.fn[a]=function(e){return e?this.bind(a,e):this.trigger(a)},e.attrFn&&(e.attrFn[a]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function l(e,l){i(r,(a=l)?"scrollstart":"scrollstop",e)}var a,t,r=this;e(r).bind(n,function(i){e.event.special.scrollstart.enabled&&(a||l(i,!0),clearTimeout(t),t=setTimeout(function(){l(i,!1)},50))})},teardown:function(){e(this).unbind(n)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var l=this,a=e(l),t=!1;a.bind("vmousedown",function(s){function n(){clearTimeout(g)}function o(){n(),a.unbind("vclick",d).unbind("vmouseup",n),r.unbind("vmousecancel",o)}function d(e){o(),t||m!==e.target?t&&e.preventDefault():i(l,"tap",e)}if(t=!1,s.which&&1!==s.which)return!1;var g,m=s.target;a.bind("vmouseup",n).bind("vclick",d),r.bind("vmousecancel",o),g=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(t=!0),i(l,"taphold",e.Event("taphold",{target:m}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),r.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var a=l.pageXOffset,t=l.pageYOffset,i=e.clientX,r=e.clientY;return 0===e.pageY&&Math.floor(r)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(i)>Math.floor(e.pageX)?(i-=a,r-=t):(r<e.pageY-t||i<e.pageX-a)&&(i=e.pageX-a,r=e.pageY-t),{x:i,y:r}},start:function(l){var a=l.originalEvent.touches?l.originalEvent.touches[0]:l,t=e.event.special.swipe.getLocation(a);return{time:(new Date).getTime(),coords:[t.x,t.y],origin:e(l.target)}},stop:function(l){var a=l.originalEvent.touches?l.originalEvent.touches[0]:l,t=e.event.special.swipe.getLocation(a);return{time:(new Date).getTime(),coords:[t.x,t.y]}},handleSwipe:function(l,a,t,r){if(a.time-l.time<e.event.special.swipe.durationThreshold&&Math.abs(l.coords[0]-a.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(l.coords[1]-a.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=l.coords[0]>a.coords[0]?"swipeleft":"swiperight";return i(t,"swipe",e.Event("swipe",{target:r,swipestart:l,swipestop:a}),!0),i(t,s,e.Event(s,{target:r,swipestart:l,swipestop:a}),!0),!0}return!1},eventInProgress:!1,setup:function(){var l,a=this,t=e(a),i={};(l=e.data(this,"mobile-events"))||(l={length:0},e.data(this,"mobile-events",l)),l.length++,l.swipe=i,i.start=function(l){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var t,s=e.event.special.swipe.start(l),n=l.target,o=!1;i.move=function(l){s&&!l.isDefaultPrevented()&&(t=e.event.special.swipe.stop(l),o||(o=e.event.special.swipe.handleSwipe(s,t,a,n))&&(e.event.special.swipe.eventInProgress=!1),Math.abs(s.coords[0]-t.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&l.preventDefault())},i.stop=function(){o=!0,e.event.special.swipe.eventInProgress=!1,r.off(g,i.move),i.move=null},r.on(g,i.move).one(d,i.stop)}},t.on(o,i.start)},teardown:function(){var l,a;(l=e.data(this,"mobile-events"))&&(a=l.swipe,delete l.swipe,l.length--,0===l.length&&e.removeData(this,"mobile-events")),a&&(a.start&&e(this).off(o,a.start),a.move&&r.off(g,a.move),a.stop&&r.off(d,a.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(l,a){e.event.special[l]={setup:function(){e(this).bind(a,e.noop)},teardown:function(){e(this).unbind(a)}}})}(e,this)});